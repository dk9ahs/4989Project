# SpringBoot-Project-4989 
스프링 부트 + Thymeleaf 중고도서 거래, 나눔, 교환을 위한 웹사이트 개발

## 프로젝트 소개
절판된 도서나 희귀 도서들을 발견하고 위치나 시간의 제약없이 거래할 수 있는 사이트입니다.

## 개발 기간 
2024.9.23 - 2024.10.24

### 개발 환경
- `Java 17`
- `JDK 17.0.11`
- **IDE** : IntelliJ Community
- **Framework** : Springboot(3.3.2)
- **Database** : MySQL(8.0.37)
- **ORM** : JPA

## 담당 기능
- **WebSocketd을 이용한 쪽지 알람과 쪽지 기능**
    - **handleTextMessage**을 사용해 현재 로그인한 사용자의 읽지 않은 메시지 개수를 조회하여 **JSON** 형식으로 클라이언트에 전송했습니다.
    - 메세지 **전송** 시  메시지를 데이터베이스에 저장한 후, 수신자의 **WebSocket 세션**을 찾아 해당 메시지를 전송하였고 읽지 않은 메세지 개수도 업데이트 하였습니다.
    - 메세지 **읽음** 시 발신자와 수신자 정보, 제목 및 내용을 받아 DTO로 변환 후 **데이터 베이스**에 저장하였습니다. 읽음 상태 업데이트 후, 수신자에게 읽지 않은 메시지 개수를 전송하였습니다.
- **Firebase Realtime을 이용한 실시간 채팅 기능 구현**
    - 프로젝트 스마일 로드에서의 채팅 기능은 유사하지만 문의채팅방은 사용자들이 자주 묻는 내용을 파악하기 위해서 데이터베이스에 채팅 내용을 저장하는 필요성을 느꼈습니다.
    - 프로젝트 사구팔구에서의 채팅 기능은 채팅 종료 시에 채팅방에서의 기록은 삭제되도록 하였지만, 채팅 내용을 firebase에 저장하여 데이터를 보존하였습니다.
- **MapStruct와 JPA를 이용한 거래 게시판  CRUD 구현**
    - **PageRequest**객체를 사용하여 페이지 번호와 페이지 크기를 설정하여 원하는 범위의 데이터를 불러와 게시판 목록을 구현하였습니다.
    - **Redis**를 활용하여 조회수 중복 방지 기능을 구현하였습니다. 일정 시간 동안 동일 게시글에 대해 중복 조회를 하지 못하도록 하였습니다.
    - **Spring Security**를 이용해 비로그인 사용자는 좋아요를 누를 수 없도록 하였습니다.  로그인 사용자는 **Redis**를 통해 이미 좋아요를 누른 게시글에 대해 좋아요 취소가 가능하게 하였습니다.
    - 파일 업로드 시 **UUID**를 사용해 저장된 파일명을 중복되지 않도록 하였고 지정된 경로에 파일을 저장 하였습니다. 다운로드 기능도 구현하였습니다.

## 주요기능
#### 로그인 
- DB값 검증
- ID찾기, PW찾기
- 계정 잠금
- 인증번호 & 임시 비밀번호 이메일로 발급
- 로그인 시 쿠키(Cookie) 및 세션(Session) 생성

#### 회원가입
- 주소 API 연동
- ID 중복 체크
- 소셜 로그인 (카카오, 네이버, 구글)

#### 마이 페이지
- 주소 API 연동
- 회원 정보 변경
- PW 변경
- 회원 탈퇴

#### 도서 검색
- 카테고리별 리스트 정보 제공
- 도서 상세 정보 조회
- 도서 검색

#### 거래 게시판
- 글 작성, 읽기, 수정, 삭제(CRUD)
- Redis - 조회수 및 좋아요 제한
- 페이징 및 검색
- 파일 업로드 및 다운로드
- 결제 API

#### 문의사항 게시판
- 글 작성, 읽기, 수정, 삭제(CRUD)
- 비밀글 구현
- 관리자일시 답글 작성

#### 쪽지 기능
- 실시간 알람
- 쪽지 목록
- 쪽지 보내기 및 읽기

#### 채팅 상담
- Firebase 연동
- 팝업으로 채팅 입장 확인
- 메세지 전송
- 채팅방 삭제
- 관리자일시 채팅방 리스트

#### 관리자 페이지
- 회원 목록 및 상세정보 확인
- 회원 권한 및 잠금 설정  
